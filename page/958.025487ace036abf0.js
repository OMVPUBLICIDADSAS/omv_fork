"use strict";(self.webpackChunkOMV_15=self.webpackChunkOMV_15||[]).push([[958],{8958:(B,g,o)=>{o.r(g),o.d(g,{ItemDetailModule:()=>k});var r=o(6895),d=o(2510),I=o(5861),t=o(4650),Z=o(4737),c=o(7009),_=o(9705),T=o(5903),A=o(8153),u=o(9549),h=o(5113),L=o(3238),p=o(7392),f=o(2673);function x(s,n){if(1&s&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&s){const i=n.$implicit;t.Q6J("value",i.codigo),t.xp6(1),t.hij(" ",i.nombre," ")}}function C(s,n){if(1&s){const i=t.EpF();t.TgZ(0,"div")(1,"div",35)(2,"img",36),t.NdJ("click",function(){const l=t.CHM(i).index,m=t.oxw();return t.KtG(m.setImage(l))}),t.qZA()()()}if(2&s){const i=n.$implicit;t.xp6(2),t.Q6J("src",i,t.LSH)}}function D(s,n){if(1&s&&(t.TgZ(0,"li")(1,"span",27),t._uU(2,"MEDIDAS: "),t.qZA(),t._uU(3),t.qZA()),2&s){const i=t.oxw();t.xp6(3),t.lnq("Alto: ",i.storage.selItem.medidas_alto," cm, ancho: ",i.storage.selItem.medidas_ancho," cm, largo: ",i.storage.selItem.medidas_largo," cm")}}function U(s,n){if(1&s&&(t.TgZ(0,"li")(1,"span",27),t._uU(2,"DIAMETRO: "),t.qZA(),t._uU(3),t.qZA()),2&s){const i=t.oxw();t.xp6(3),t.hij("",i.storage.selItem.medidas_diametro," cm")}}function w(s,n){if(1&s&&(t.TgZ(0,"li")(1,"span",27),t._uU(2,"MEDIDAS: "),t.qZA(),t._uU(3),t.qZA()),2&s){const i=t.oxw();t.xp6(3),t.Oqu(i.storage.selItem.medidas_omv)}}const b=[{path:"",component:(()=>{class s{constructor(i,e,a,l,m){this.storage=i,this.snkBar=e,this.nvg=a,this.http_quote=l,this.dg=m,this.imageList=[],this.imageOptionList=[],this.imageSMList=[],this.imageXLList=[],this.SelImg="",this.cotizaTtl=0,this.wishTtl=0}ngOnInit(){this.getImageLists(),this.SelImg=this.imageXLList[0]||"",this.badgeObs()}ngOnDestroy(){this.bagSubs&&this.bagSubs.unsubscribe()}badgeObs(){this.storage.getactualWishQuote(),this.bagSubs=this.storage.getBadgeObs().subscribe(i=>{"wishList"===i.list_name&&(this.wishTtl=i.total),"quoteList"===i.list_name&&(this.cotizaTtl=i.total)})}getImageLists(i=""){if(this.imageList=[],this.imageOptionList=[{codigo:"",nombre:"Todo"}],this.storage.selItem.materiales.forEach(e=>{this.imageOptionList.push({codigo:e.codigo,nombre:e.color_nombre})}),0===i.length)this.selMaterial=this.storage.selItem.materiales[-1],this.storage.selItem.imagenes&&(this.imageList=[...this.storage.selItem.imagenes]),this.storage.selItem.materiales.forEach(e=>{this.imageList=[...this.imageList,...e.imagenes]});else{const e=this.storage.selItem.materiales.find(a=>a.codigo===i);e&&(this.selMaterial=e,this.imageList=[...this.imageList,...e.imagenes])}this.imageSMList=[],this.imageXLList=[],this.imageList.forEach(e=>{this.imageSMList.push(e),this.imageXLList.push(e)})}setImage(i){this.SelImg=this.imageXLList[i]||""}getInventario(){return this.selMaterial?this.selMaterial.inventario||0:Number(this.storage.selItem.existencia)||0}add2Cotiza(){this.selMaterial?this.storage.addWishQuote("1",this.storage.selItem,this.selMaterial)?this.snkBar.open("Agregado a la lista de Cotizaci\xf3n","Ok",{duration:3e3}):this.snkBar.open("No existe inventario","Ok",{duration:3e3}):this.snkBar.open("Debe seleccionar un color o estilo","Ok",{duration:3e3})}add2WishList(){this.storage.addWishQuote("0",this.storage.selItem)}onSelectEvent(i){this.getImageLists(i),this.imageXLList.length>0&&this.setImage(0)}onSelected(i){var e=this;return(0,I.Z)(function*(){e.goBack()})()}goBack(){this.nvg.onRouteDetail("","","itemlist",!0)}wishQuoteModule(i){let a,e="";switch(i){case"0":if(0===this.wishTtl)return;e="Lista de Favoritos",a=this.storage.wishList;break;case"1":if(0===this.cotizaTtl)return;e="M\xf3dulo de Cotizaciones",a=this.storage.quoteList}this.dg.aactualQuote({title:e,tag:i,value:a}).subscribe(m=>{1===this.storage.quoteList.status?this.http_quote.createQuote(a).subscribe({error:O=>this.snkBar.open(`Error al enviar la cotizaci\xf3n. Intente m\xe1s tarde. -- ${O.error}`,"Listo",{duration:3e3}),complete:()=>{this.storage.deleteactualWidhQuote("1"),this.snkBar.open("Su solicitud ha sido enviada, responderemos en el menor tiempo posible","Listo",{duration:3e3})}}):this.storage.saveWishQuote(i)})}getWhatsApp(){this.storage.getWhatsApp()}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(Z.g),t.Y36(c.ux),t.Y36(_.$),t.Y36(T.v),t.Y36(A.x))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-item-detail"]],decls:70,vars:21,consts:[[1,"p-2","h-full","w-full"],[1,"sticky","top-0","z-1000","bg-white"],[1,"pt-4","flex","gap-2","justify-end"],["matBadgeColor","warn","fontIcon","favorite_border",1,"w-6","hover:text-red-700",3,"matBadge","matBadgeHidden","click"],["matBadgeColor","warn","fontIcon","add_shopping_cart",1,"w-6","hover:text-red-700",3,"matBadge","matBadgeHidden","click"],["fontIcon","chat_bubble_outline",3,"click"],[1,"m-1","p-1","flex","items-center","font-medium","text-white","text-xl","bg-black","border","border-slate-200","cursor-pointer",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 8 14",1,"h-6","w-6","text-yellow-200","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 1 1.3 6.326a.91.91 0 0 0 0 1.348L7 13"],[1,"ml-4","text-yellow-200"],[1,"ml-5","flex","flex-wrap","font-thin","gap-1","truncate"],[1,"h-4"],[1,"text-gray-400","truncate"],[1,"overflow-auto"],[1,"text-3xl","text-gray-700","text-center"],[1,"flex","flex-row","flex-wrap"],[1,"h-full","w-full","md:w-2/4","pr-8"],["alt","",1,"grow","w-fit","object-fill",3,"src"],["appearance","outline",1,"my-2","h-12","w-full"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"h-2"],[1,"flex","flex-row","items-start","h-28","w-full","overflow-x-auto"],[4,"ngFor","ngForOf"],[1,"h-full","w-full","md:w-2/4"],[1,"pl-2","mt-2","font-medium"],[1,"grow","pl-4","list-disc","text-sm","max-h-72"],[1,"font-medium"],[1,"h-1"],[4,"ngIf"],[1,"flex","flex-row","justify-start","items-center","gap-3"],[1,"font-medium","bg-lime-300","p-2","w-52","rounded-md","shadow-lg","text-center","hover:text-red-800",3,"click"],["fontIcon","add_shopping_cart"],["fontIcon","favorite"],[3,"value"],[1,"h-20","w-24"],["alt","",1,"h-20","w-24","object-fill","border","border-gray-200",3,"src","click"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),t.NdJ("click",function(){return e.wishQuoteModule("0")}),t.qZA(),t.TgZ(4,"mat-icon",4),t.NdJ("click",function(){return e.wishQuoteModule("1")}),t.qZA(),t.TgZ(5,"mat-icon",5),t.NdJ("click",function(){return e.getWhatsApp()}),t.qZA()(),t.TgZ(6,"div",6),t.NdJ("click",function(){return e.goBack()}),t.O4$(),t.TgZ(7,"svg",7),t._UZ(8,"path",8),t.qZA(),t.kcU(),t.TgZ(9,"div",9),t._uU(10," Cat\xe1logo "),t.qZA(),t.TgZ(11,"div",10)(12,"div",11),t._uU(13),t.qZA(),t.TgZ(14,"div",12),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",13)(17,"div",14),t._uU(18),t.qZA(),t.TgZ(19,"div",15)(20,"div",16),t._UZ(21,"img",17),t.TgZ(22,"mat-form-field",18)(23,"mat-label"),t._uU(24,"Color/Estilo"),t.qZA(),t.TgZ(25,"mat-select",19),t.NdJ("selectionChange",function(l){return e.onSelectEvent(l.value)}),t.YNc(26,x,2,2,"mat-option",20),t.qZA()(),t._UZ(27,"div",21),t.TgZ(28,"div",22),t.YNc(29,C,3,1,"div",23),t.qZA()(),t.TgZ(30,"div",24)(31,"div",25),t._uU(32),t.qZA(),t._UZ(33,"div",11),t.TgZ(34,"ul",26)(35,"li")(36,"span",27),t._uU(37,"MATERIAL: "),t.qZA(),t._uU(38),t.qZA(),t._UZ(39,"div",28),t.YNc(40,D,4,3,"li",29),t.YNc(41,U,4,1,"li",29),t._UZ(42,"div",28),t.YNc(43,w,4,1,"li",29),t._UZ(44,"div",28),t.TgZ(45,"li")(46,"span",27),t._uU(47,"\xc1REA DE IMPRESI\xd3N APROXIMADA: "),t.qZA(),t._uU(48),t.qZA(),t._UZ(49,"div",28),t.TgZ(50,"li")(51,"span",27),t._uU(52,"MARCA: "),t.qZA(),t._uU(53),t.qZA(),t._UZ(54,"div",28)(55,"div",28),t.TgZ(56,"li")(57,"span",27),t._uU(58,"INVENTARIO: "),t.qZA(),t._uU(59),t.ALo(60,"number"),t.qZA(),t._UZ(61,"div",28),t.qZA(),t._UZ(62,"div",21),t.TgZ(63,"div",30)(64,"div",31),t.NdJ("click",function(){return e.add2Cotiza()}),t._uU(65," Cotizar "),t._UZ(66,"mat-icon",32),t.qZA(),t.TgZ(67,"div",31),t.NdJ("click",function(){return e.add2WishList()}),t._uU(68," Lista de deseos "),t._UZ(69,"mat-icon",33),t.qZA()()()()()()),2&i&&(t.xp6(3),t.s9C("matBadge",e.wishTtl),t.Q6J("matBadgeHidden",0===e.wishTtl),t.xp6(1),t.s9C("matBadge",e.cotizaTtl),t.Q6J("matBadgeHidden",0===e.cotizaTtl),t.xp6(9),t.hij(" ",e.storage.filter.catFilter[0]," "),t.xp6(2),t.hij(" ",e.storage.filter.catFilter[1]," "),t.xp6(3),t.Oqu(e.storage.selItem.descripcion_comercial),t.xp6(3),t.Q6J("src",e.SelImg,t.LSH),t.xp6(5),t.Q6J("ngForOf",e.imageOptionList),t.xp6(3),t.Q6J("ngForOf",e.imageSMList),t.xp6(3),t.Oqu(e.storage.selItem.descripcion_larga),t.xp6(6),t.Oqu(e.storage.selItem.material),t.xp6(2),t.Q6J("ngIf",e.storage.selItem.medidas_alto),t.xp6(1),t.Q6J("ngIf",e.storage.selItem.medidas_diametro),t.xp6(2),t.Q6J("ngIf",e.storage.selItem.medidas_omv),t.xp6(5),t.Oqu(e.storage.selItem.area_impresion),t.xp6(5),t.AsE("",e.storage.selItem.tecnica_marca_descripcion," \xa0 ",e.storage.selItem.tecnica_marca_tecnica,""),t.xp6(6),t.hij("",t.lcZ(60,19,e.getInventario())," unidades"))},dependencies:[r.sg,r.O5,u.KE,u.hX,h.gD,L.ey,p.Hw,f.k,r.JJ]}),s})()}];let M=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[d.Bz.forChild(b),d.Bz]}),s})();var v=o(4006);let k=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[r.ez,M,v.u5,v.UX,h.LD,p.Ps,c.ZX,f.g]}),s})()}}]);